<!doctype html>
<html lang="en" data-theme="system">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#7c3aed" />
    <meta name="description" content="Learning Hub ‚Äî operational resources, playbooks, and guided curriculum." />

    <meta
      http-equiv="Content-Security-Policy"
      content="
        default-src 'self';
        base-uri 'self';
        object-src 'none';
        frame-ancestors 'none';
        form-action 'self';
        img-src 'self' data: blob: https:;
        font-src 'self' https://fonts.gstatic.com;
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
        script-src 'self' https://cdn.jsdelivr.net 'unsafe-inline';
        connect-src 'self' https:;
      "
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="/assets/css/styles.css" />
    <title>Learning Hub ¬∑ Gabriel Professional Services</title>

    <style>
      .wrap {
        padding: 26px 0 72px;
        background: radial-gradient(1200px 600px at 50% -10%, rgba(124,58,237,0.18), transparent 60%),
                    radial-gradient(900px 520px at 10% 10%, rgba(147,51,234,0.14), transparent 55%),
                    radial-gradient(900px 520px at 90% 12%, rgba(124,58,237,0.10), transparent 55%);
      }

      .hero {
        border-radius: 28px;
        padding: 18px;
        background: linear-gradient(135deg, rgba(124,58,237,0.12), rgba(147,51,234,0.08));
        border: 1px solid rgba(124,58,237,0.18);
        box-shadow: var(--shadow-md);
      }

      .hero-grid {
        display: grid;
        grid-template-columns: 1.1fr 0.9fr;
        gap: 14px;
        align-items: start;
      }

      .kicker {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 10px;
        border-radius: 999px;
        border: 1px solid rgba(124,58,237,0.16);
        background: rgba(124,58,237,0.08);
        color: var(--muted);
        font-weight: 950;
        font-size: 12px;
        letter-spacing: 0.02em;
      }

      .hero h1 {
        margin: 10px 0 8px;
        font-size: 30px;
        font-weight: 950;
        letter-spacing: -0.03em;
        line-height: 1.12;
      }

      .hero p {
        margin: 0;
        color: var(--muted);
        font-weight: 650;
        line-height: 1.55;
      }

      .hero-actions {
        margin-top: 12px;
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        align-items: center;
      }

      .side-card {
        border-radius: 22px;
        padding: 14px;
        background: var(--card);
        border: 1px solid var(--card-border);
        box-shadow: var(--shadow-md);
        display: grid;
        gap: 10px;
      }

      .mini {
        border-radius: 18px;
        padding: 12px;
        background: var(--bg-elev);
        border: 1px solid var(--border);
        display: flex;
        gap: 10px;
        align-items: flex-start;
      }

      .mini .icon {
        width: 34px;
        height: 34px;
        border-radius: 999px;
        display: grid;
        place-items: center;
        background: rgba(124,58,237,0.14);
        border: 1px solid rgba(124,58,237,0.20);
        font-weight: 950;
      }

      .mini .t {
        font-weight: 950;
        margin: 0;
        font-size: 13px;
        letter-spacing: -0.01em;
      }

      .mini .d {
        margin: 2px 0 0;
        color: var(--muted);
        font-weight: 650;
        font-size: 12px;
        line-height: 1.45;
      }

      .section {
        margin-top: 14px;
        border-radius: 26px;
        background: var(--card);
        border: 1px solid var(--card-border);
        box-shadow: var(--shadow-md);
        overflow: hidden;
      }

      .section-head {
        padding: 16px 18px;
        border-bottom: 1px solid var(--border);
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 10px;
        flex-wrap: wrap;
      }

      .section-head h2 {
        margin: 0;
        font-size: 16px;
        font-weight: 950;
        letter-spacing: -0.02em;
      }

      .section-head .sub {
        margin: 0;
        color: var(--muted);
        font-weight: 650;
        font-size: 13px;
      }

      .section-body {
        padding: 18px;
        display: grid;
        gap: 12px;
      }

      .grid-3 {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
      }

      .tile {
        border-radius: 22px;
        padding: 14px;
        background: var(--bg-elev);
        border: 1px solid var(--border);
      }

      .tile h3 {
        margin: 0 0 8px;
        font-size: 14px;
        font-weight: 950;
        letter-spacing: -0.01em;
        line-height: 1.25;
      }

      .tile p {
        margin: 0;
        color: var(--muted);
        font-weight: 650;
        font-size: 13px;
        line-height: 1.55;
      }

      .list {
        margin: 10px 0 0;
        padding-left: 18px;
        color: var(--muted);
        font-weight: 650;
        font-size: 13px;
        line-height: 1.6;
      }
      .list li { margin: 6px 0; }

      /* Join Form */
      .join {
        display: grid;
        grid-template-columns: 1.1fr 0.9fr;
        gap: 12px;
        align-items: start;
      }

      .form-card {
        border-radius: 22px;
        padding: 14px;
        background: var(--bg-elev);
        border: 1px solid var(--border);
      }

      .form-title {
        margin: 0 0 6px;
        font-size: 18px;
        font-weight: 950;
        letter-spacing: -0.02em;
      }

      .form-sub {
        margin: 0 0 12px;
        color: var(--muted);
        font-weight: 650;
        line-height: 1.55;
      }

      .form-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
      }

      .field label {
        display: block;
        font-size: 12px;
        font-weight: 950;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--muted);
        margin: 0 0 6px;
        padding: 0 2px;
      }

      .field input,
      .field select {
        width: 100%;
        padding: 12px 12px;
        border-radius: 14px;
        border: 1px solid var(--border);
        background: var(--bg);
        color: var(--text);
        outline: none;
      }

      .field input:focus,
      .field select:focus {
        border-color: rgba(124,58,237,0.50);
        box-shadow: 0 0 0 4px rgba(124,58,237,0.14);
      }

      .form-actions {
        margin-top: 10px;
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
      }

      .note {
        margin: 10px 0 0;
        border-radius: 18px;
        padding: 12px;
        background: rgba(124,58,237,0.08);
        border: 1px solid rgba(124,58,237,0.16);
        color: var(--muted);
        font-weight: 650;
        line-height: 1.55;
      }
      .note strong { color: var(--text); font-weight: 950; }

      /* Progress / Success */
      .status {
        display: none;
        border-radius: 22px;
        padding: 14px;
        background: var(--card);
        border: 1px solid var(--card-border);
        box-shadow: var(--shadow-md);
      }
      .status.show { display: block; }

      .bar {
        height: 10px;
        border-radius: 999px;
        background: rgba(124,58,237,0.10);
        border: 1px solid rgba(124,58,237,0.16);
        overflow: hidden;
      }
      .bar > div {
        height: 100%;
        width: 0%;
        background: rgba(124,58,237,0.85);
        transition: width 220ms ease;
      }

      .status h3 {
        margin: 10px 0 6px;
        font-size: 18px;
        font-weight: 950;
        letter-spacing: -0.02em;
      }
      .status p {
        margin: 0;
        color: var(--muted);
        font-weight: 650;
        line-height: 1.55;
      }

      @media (max-width: 980px) {
        .hero-grid { grid-template-columns: 1fr; }
        .grid-3 { grid-template-columns: 1fr; }
        .join { grid-template-columns: 1fr; }
        .section-head, .section-body { padding: 16px; }
      }
      @media (max-width: 720px) {
        .form-grid { grid-template-columns: 1fr; }
      }
    </style>
  </head>

  <body>
    <a class="skip-link" href="#main">Skip to content</a>

    <header class="site-header" data-elevate-on-scroll="true">
      <div class="container header-row">
        <a class="brand" href="/index.html" aria-label="Go to Home">
          <span class="brand-mark" aria-hidden="true">
            <span class="rocket-3d" id="rocketLogo" role="img" aria-label="3D Rocket logo"></span>
          </span>
          <span class="brand-text">
            <span class="brand-title">Gabriel</span>
            <span class="brand-subtitle">Professional Services</span>
          </span>
        </a>

        <button class="nav-toggle" type="button" aria-expanded="false" aria-controls="primaryNav">
          <span class="sr-only">Open menu</span>
          <span class="nav-toggle-lines" aria-hidden="true"></span>
        </button>

        <nav class="nav" id="primaryNav" aria-label="Primary">
          <a class="nav-link" href="/index.html" data-nav="home">Home</a>

          <div class="nav-dropdown" data-dropdown data-open="false">
            <button class="nav-link nav-dropdown-btn" type="button" aria-expanded="false" aria-haspopup="true">
              <span>Services</span>
              <span class="chev" aria-hidden="true">‚ñæ</span>
            </button>
            <div class="nav-dropdown-menu" role="menu">
              <a role="menuitem" class="nav-dropdown-item" href="/pages/services.html">Services Overview</a>
              <div class="nav-dropdown-sep" role="separator" aria-hidden="true"></div>
              <a role="menuitem" class="nav-dropdown-item" href="/pages/logistics.html">Logistics Management</a>
              <a role="menuitem" class="nav-dropdown-item" href="/pages/it-support.html">IT Support Level I &amp; II</a>
              <a role="menuitem" class="nav-dropdown-item" href="/pages/admin-support.html">C-Level Admin Support</a>
              <a role="menuitem" class="nav-dropdown-item" href="/pages/customer-relations.html">Customer Relations</a>
            </div>
          </div>

          <a class="nav-link" href="/pages/about.html" data-nav="about">About Us</a>
          <a class="nav-link" href="/pages/careers.html" data-nav="careers">Careers</a>
          <a class="nav-link" href="/pages/contact.html" data-nav="contact">Contact</a>

          <a class="nav-link nav-link-quiet" href="/pages/signin.html" data-nav="signin">Client Portal</a>
          <a class="btn btn-primary" href="/pages/get-started.html" data-nav="getstarted">Start Scaling</a>

          <div class="nav-tools" aria-label="Preferences">
            <button class="btn btn-ghost" type="button" id="themeToggle" aria-pressed="false" title="Toggle theme">
              <span class="sr-only">Toggle theme</span>
              <span aria-hidden="true">‚óê</span>
            </button>

            <button class="btn btn-ghost" type="button" id="langToggle" aria-pressed="false" title="Toggle language">
              <span class="sr-only">Toggle language</span>
              <span class="lang-pill" aria-hidden="true">EN</span>
            </button>
          </div>
        </nav>
      </div>
    </header>

    <main id="main">
      <section class="wrap">
        <div class="container">
          <!-- HERO -->
          <div class="hero" aria-label="Learning Hub hero">
            <div class="hero-grid">
              <div>
                <div class="kicker" data-lang-en="Learning ¬∑ Hub" data-lang-es="Aprendizaje ¬∑ Centro">
                  Learning ¬∑ Hub
                </div>

                <h1
                  data-lang-en="Join the Learning Hub"
                  data-lang-es="√önete al Centro de Aprendizaje">
                  Join the Learning Hub
                </h1>

                <p
                  data-lang-en="Gain access to premium operational resources ‚Äî playbooks, checklists, and guided tracks that turn execution into a system."
                  data-lang-es="Obt√©n acceso a recursos operativos premium ‚Äî playbooks, checklists y rutas guiadas que convierten la ejecuci√≥n en un sistema.">
                  Gain access to premium operational resources ‚Äî playbooks, checklists, and guided tracks that turn execution into a system.
                </p>

                <div class="hero-actions">
                  <a class="btn btn-primary" href="/pages/checkout.html"
                    data-lang-en="Enroll"
                    data-lang-es="Inscribirme">Enroll</a>

                  <a class="btn btn-ghost" href="#join"
                    data-lang-en="Join the Hub"
                    data-lang-es="Unirme al Hub">Join the Hub</a>
                </div>
              </div>

              <aside class="side-card" aria-label="Highlights">
                <div class="mini">
                  <div class="icon" aria-hidden="true">üéì</div>
                  <div>
                    <div class="t" data-lang-en="Guided tracks" data-lang-es="Rutas guiadas">Guided tracks</div>
                    <div class="d"
                      data-lang-en="Choose a topic and receive a structured learning path."
                      data-lang-es="Elige un tema y recibe un camino de aprendizaje estructurado.">
                      Choose a topic and receive a structured learning path.
                    </div>
                  </div>
                </div>

                <div class="mini">
                  <div class="icon" aria-hidden="true">üß©</div>
                  <div>
                    <div class="t" data-lang-en="Operational templates" data-lang-es="Plantillas operativas">Operational templates</div>
                    <div class="d"
                      data-lang-en="Reusable SOPs, meeting packs, and checklists."
                      data-lang-es="SOPs reutilizables, packs de reuniones y checklists.">
                      Reusable SOPs, meeting packs, and checklists.
                    </div>
                  </div>
                </div>

                <div class="mini">
                  <div class="icon" aria-hidden="true">üõ°</div>
                  <div>
                    <div class="t" data-lang-en="Security mindset" data-lang-es="Mentalidad de seguridad">Security mindset</div>
                    <div class="d"
                      data-lang-en="Clean handling, least privilege, and anti-abuse principles."
                      data-lang-es="Manejo limpio, m√≠nimo privilegio y principios antiabuso.">
                      Clean handling, least privilege, and anti-abuse principles.
                    </div>
                  </div>
                </div>
              </aside>
            </div>
          </div>

          <!-- MODULES -->
          <section class="section" aria-label="Tracks and modules">
            <div class="section-head">
              <h2 data-lang-en="Tracks & Modules" data-lang-es="Rutas y M√≥dulos">Tracks & Modules</h2>
              <p class="sub"
                data-lang-en="Pick one track to start ‚Äî expand as you grow."
                data-lang-es="Elige una ruta para empezar ‚Äî expande a medida que creces.">
                Pick one track to start ‚Äî expand as you grow.
              </p>
            </div>

            <div class="section-body">
              <div class="grid-3" id="moduleGrid" role="list"></div>
            </div>
          </section>

          <!-- JOIN -->
          <section class="section" id="join" aria-label="Join the Learning Hub">
            <div class="section-head">
              <h2 data-lang-en="Join the Learning Hub" data-lang-es="√önete al Centro de Aprendizaje">Join the Learning Hub</h2>
              <p class="sub"
                data-lang-en="Register to receive curated resources and a recommended path."
                data-lang-es="Reg√≠strate para recibir recursos curados y una ruta recomendada.">
                Register to receive curated resources and a recommended path.
              </p>
            </div>

            <div class="section-body">
              <div class="join">
                <form class="form-card" id="learningForm" aria-label="Learning Hub registration form">
                  <div>
                    <h3 class="form-title"
                      data-lang-en="Registration"
                      data-lang-es="Registro">Registration</h3>
                    <p class="form-sub"
                      data-lang-en="Tell us what you want to learn. We‚Äôll prepare a clean curriculum summary."
                      data-lang-es="Cu√©ntanos qu√© quieres aprender. Prepararemos un resumen claro del plan.">
                      Tell us what you want to learn. We‚Äôll prepare a clean curriculum summary.
                    </p>
                  </div>

                  <div class="form-grid">
                    <div class="field">
                      <label for="firstName" data-lang-en="First Name" data-lang-es="Nombre">First Name</label>
                      <input id="firstName" name="firstName" type="text" required autocomplete="given-name" placeholder="John" />
                    </div>

                    <div class="field">
                      <label for="lastName" data-lang-en="Last Name" data-lang-es="Apellido">Last Name</label>
                      <input id="lastName" name="lastName" type="text" required autocomplete="family-name" placeholder="Smith" />
                    </div>

                    <div class="field">
                      <label for="email" data-lang-en="Email" data-lang-es="Email">Email</label>
                      <input id="email" name="email" type="email" required autocomplete="email" placeholder="john@company.com" />
                    </div>

                    <div class="field">
                      <label for="phone" data-lang-en="Phone Number" data-lang-es="N√∫mero de Tel√©fono">Phone Number</label>
                      <input id="phone" name="phone" type="tel" required autocomplete="tel" placeholder="+1 555 000 0000" />
                    </div>

                    <div class="field">
                      <label for="country" data-lang-en="Country" data-lang-es="Pa√≠s">Country</label>
                      <select id="country" name="country" required>
                        <option value="" data-lang-en="Select country" data-lang-es="Selecciona pa√≠s">Select country</option>
                        <option value="US">United States</option>
                        <option value="UK">United Kingdom</option>
                        <option value="EC">Ecuador</option>
                        <option value="ES">Spain</option>
                        <option value="MX">Mexico</option>
                        <option value="CA">Canada</option>
                      </select>
                    </div>

                    <div class="field">
                      <label for="topic" data-lang-en="Topic" data-lang-es="Tema">Topic</label>
                      <select id="topic" name="topic" required></select>
                    </div>
                  </div>

                  <div class="form-actions">
                    <button class="btn btn-primary" type="submit" id="submitBtn"
                      data-lang-en="Register"
                      data-lang-es="Registrar">Register</button>

                    <a class="btn btn-ghost" href="/pages/checkout.html"
                      data-lang-en="Go to Checkout"
                      data-lang-es="Ir a Checkout">Go to Checkout</a>
                  </div>

                  <div class="note" role="note">
                    <strong data-lang-en="Privacy reminder:" data-lang-es="Recordatorio de privacidad:">Privacy reminder:</strong>
                    <span
                      data-lang-en=" Please do not enter sensitive information (IDs, banking details, passwords)."
                      data-lang-es=" No ingreses informaci√≥n sensible (IDs, datos bancarios, contrase√±as).">
                      Please do not enter sensitive information (IDs, banking details, passwords).
                    </span>
                  </div>
                </form>

                <aside class="status" id="statusCard" aria-live="polite">
                  <div class="bar" aria-label="Progress">
                    <div id="barFill"></div>
                  </div>
                  <h3 id="statusTitle"
                    data-lang-en="Preparing your curriculum‚Ä¶"
                    data-lang-es="Preparando tu plan‚Ä¶">Preparing your curriculum‚Ä¶</h3>
                  <p id="statusText"
                    data-lang-en="Compiling modules and recommended sequence."
                    data-lang-es="Compilando m√≥dulos y secuencia recomendada.">
                    Compiling modules and recommended sequence.
                  </p>

                  <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
                    <a class="btn btn-primary" href="/pages/checkout.html"
                      data-lang-en="Continue to Checkout"
                      data-lang-es="Continuar a Checkout">Continue to Checkout</a>
                    <a class="btn btn-ghost" href="/pages/contact.html"
                      data-lang-en="Contact"
                      data-lang-es="Contacto">Contact</a>
                  </div>
                </aside>
              </div>
            </div>
          </section>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-grid">
        <div class="footer-brand">
          <div class="footer-title">Gabriel Professional Services</div>
          <div class="footer-note"
            data-lang-en="Secure-by-design operational support for modern teams."
            data-lang-es="Soporte operativo con seguridad desde el dise√±o.">
            Secure-by-design operational support for modern teams.
          </div>
        </div>

        <nav class="footer-nav" aria-label="Footer">
          <a href="/pages/about.html">About Us</a>
          <a href="/pages/services.html">Services</a>
          <a href="/pages/careers.html">Careers</a>
          <a href="/pages/contact.html">Contact</a>
          <a href="/pages/blog.html">Blog</a>
          <a href="/pages/learning.html">Learning</a>
          <a href="/pages/checkout.html">Checkout</a>
          <a href="/pages/privacy.html">Privacy</a>
          <a href="/pages/terms.html">Terms</a>
          <a href="/pages/gdpr.html">GDPR</a>
          <a href="/pages/consent.html">Privacy &amp; Consent</a>
        </nav>

        <div class="footer-bottom">
          <span class="copyright">¬© <span id="year"></span> Gabriel</span>
        </div>
      </div>
    </footer>

    <script type="module" src="/assets/js/app.js"></script>

    <script type="module">
      const DATA = {
        en: {
          modules: [
            { title: "Operations Playbooks", desc: "SOPs, checklists, and weekly cadence templates." },
            { title: "Customer Success Systems", desc: "Support workflows, CSAT/AHT hygiene, and escalation logic." },
            { title: "Cybersecurity Foundations", desc: "Least privilege, secure handling, and anti-abuse basics." },
            { title: "Logistics & Routing", desc: "Dispatch hygiene, route planning, and exceptions handling." },
            { title: "Executive Admin Cadence", desc: "Calendars, meeting packs, follow-ups, and decision logs." },
            { title: "Dashboards & Reporting", desc: "Operational metrics, trend tracking, and weekly briefs." }
          ],
          topicPlaceholder: "Select topic"
        },
        es: {
          modules: [
            { title: "Playbooks de Operaciones", desc: "SOPs, checklists y plantillas de cadencia semanal." },
            { title: "Sistemas de √âxito del Cliente", desc: "Flujos de soporte, higiene CSAT/AHT y escalaciones." },
            { title: "Fundamentos de Ciberseguridad", desc: "M√≠nimo privilegio, manejo seguro y antiabuso." },
            { title: "Log√≠stica y Ruteo", desc: "Despacho, planificaci√≥n de rutas y manejo de excepciones." },
            { title: "Cadencia de Asistencia Ejecutiva", desc: "Calendarios, packs de reuniones, seguimientos y decisiones." },
            { title: "Dashboards y Reportes", desc: "M√©tricas operativas, tendencias y brief semanal." }
          ],
          topicPlaceholder: "Selecciona tema"
        }
      };

      const moduleGrid = document.getElementById("moduleGrid");
      const topicSelect = document.getElementById("topic");
      const form = document.getElementById("learningForm");
      const submitBtn = document.getElementById("submitBtn");
      const statusCard = document.getElementById("statusCard");
      const barFill = document.getElementById("barFill");
      const statusTitle = document.getElementById("statusTitle");
      const statusText = document.getElementById("statusText");

      const getLang = () => (document.documentElement.lang === "es" ? "es" : "en");

      function syncLangText() {
        const lang = getLang();
        document.querySelectorAll("[data-lang-en][data-lang-es]").forEach((node) => {
          const v = node.getAttribute(lang === "es" ? "data-lang-es" : "data-lang-en");
          if (typeof v === "string") node.textContent = v;
        });
      }

      function renderModules() {
        const lang = getLang();
        const d = DATA[lang] || DATA.en;

        moduleGrid.innerHTML = "";
        d.modules.forEach((m) => {
          const el = document.createElement("div");
          el.className = "tile";
          el.setAttribute("role", "listitem");
          el.innerHTML = `<h3>${m.title}</h3><p>${m.desc}</p>`;
          moduleGrid.appendChild(el);
        });
      }

      function renderTopics() {
        const lang = getLang();
        const d = DATA[lang] || DATA.en;

        topicSelect.innerHTML = "";
        const opt0 = document.createElement("option");
        opt0.value = "";
        opt0.textContent = d.topicPlaceholder;
        topicSelect.appendChild(opt0);

        d.modules.forEach((m) => {
          const opt = document.createElement("option");
          opt.value = m.title;
          opt.textContent = m.title;
          topicSelect.appendChild(opt);
        });
      }

      function setStatus(mode, pct = 0) {
        statusCard.classList.add("show");
        barFill.style.width = `${pct}%`;

        const lang = getLang();
        const isEs = lang === "es";

        if (mode === "working") {
          statusTitle.textContent = isEs ? "Preparando tu plan‚Ä¶" : "Preparing your curriculum‚Ä¶";
          statusText.textContent = isEs
            ? "Compilando m√≥dulos y secuencia recomendada."
            : "Compiling modules and recommended sequence.";
        } else if (mode === "done") {
          statusTitle.textContent = isEs ? "Registro completo" : "Registration complete";
          statusText.textContent = isEs
            ? "Tu ruta est√° lista para revisi√≥n. Contin√∫a a checkout cuando quieras."
            : "Your path is ready for review. Continue to checkout whenever you're ready.";
        }
      }

      async function fakeProgress() {
        setStatus("working", 8);
        await new Promise((r) => setTimeout(r, 250));
        setStatus("working", 22);
        await new Promise((r) => setTimeout(r, 300));
        setStatus("working", 48);
        await new Promise((r) => setTimeout(r, 380));
        setStatus("working", 74);
        await new Promise((r) => setTimeout(r, 420));
        setStatus("done", 100);
      }

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        submitBtn.disabled = true;
        try { submitBtn.setAttribute("aria-busy", "true"); } catch {}
        setStatus("working", 0);

        // No network call here ‚Äî UI-only simulation to match the original ‚Äúprogress then success‚Äù experience.
        await fakeProgress();

        submitBtn.disabled = false;
        try { submitBtn.removeAttribute("aria-busy"); } catch {}
      });

      // React to language toggle from app.js (it flips <html lang>)
      const langBtn = document.getElementById("langToggle");
      if (langBtn) {
        langBtn.addEventListener("click", () => {
          setTimeout(() => {
            renderModules();
            renderTopics();
            syncLangText();
          }, 0);
        });
      }

      renderModules();
      renderTopics();
      syncLangText();
    </script>
  </body>
</html>
